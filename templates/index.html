{% extends 'base.html' %}

{% block title %}é‹ãƒã¡ã‚ƒã‚“ - ãƒ›ãƒ¼ãƒ {% endblock %}

{% block nav_home %}active{% endblock %}

{% block body %}
<div class="fade-in">
    <!-- Header -->
    <header class="text-center mb-xl">
        <h1 class="page-title">é‹ãƒã¡ã‚ƒã‚“</h1>
        <p class="page-subtitle">æ¯æ—¥ã®é ‘å¼µã‚Šã‚’è¨˜éŒ²ã—ã‚ˆã†</p>
    </header>

    <!-- Point Display Card -->
    <div class="glass-card point-display slide-up">
        <p class="point-label">ç¾åœ¨ã®é‹ãƒã‚¤ãƒ³ãƒˆ</p>
        <div class="point-value" id="totalPoint">{{ all_total_point }}P</div>

        <!-- Mode Badge -->
        <div class="mode-badge" id="modeBadge">
            <span id="modeIcon">âœ¨</span>
            <span id="modeText">é€šå¸¸ãƒ¢ãƒ¼ãƒ‰</span>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="action-grid mt-xl">
        <a href="/pre_graph" class="action-btn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/>
                <path d="M12 2a10 10 0 0 1 0 20"/>
                <path d="M12 2v10l7 4"/>
            </svg>
            <span>é‹å‹¢è¨ºæ–­</span>
        </a>
        <a href="/unpograph" class="action-btn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 3v18h18"/>
                <path d="M18 17l-5-5-4 4-5-6"/>
            </svg>
            <span>é‹ãƒã‚°ãƒ©ãƒ•</span>
        </a>
        <a href="/history" class="action-btn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 8v4l3 3"/>
                <circle cx="12" cy="12" r="10"/>
            </svg>
            <span>å±¥æ­´</span>
        </a>
        <a href="/helppre" class="action-btn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/>
                <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                <line x1="12" y1="17" x2="12.01" y2="17"/>
            </svg>
            <span>ãƒ˜ãƒ«ãƒ—</span>
        </a>
    </div>

    <!-- Main Action Buttons -->
    <div class="main-actions">
        <a href="/create" class="main-action-btn effort">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
            </svg>
            <span>é ‘å¼µã£ãŸ</span>
        </a>
        <a href="/create1" class="main-action-btn good">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
            </svg>
            <span>è‰¯ã„ã“ã¨ã‚ã£ãŸ</span>
        </a>
    </div>
</div>

<script>
    // Mode switching based on points
    const totalPoint = {{ all_total_point }};
    const modeBadge = document.getElementById('modeBadge');
    const modeIcon = document.getElementById('modeIcon');
    const modeText = document.getElementById('modeText');

    if (totalPoint > 15) {
        modeBadge.classList.add('lucky');
        modeIcon.textContent = 'ğŸŒŸ';
        modeText.textContent = 'ãƒ©ãƒƒã‚­ãƒ¼ãƒ¢ãƒ¼ãƒ‰';
    } else {
        modeBadge.classList.add('normal');
    }
</script>
{% endblock %}
